#!/usr/bin/env ruby

$:.unshift File.join(File.dirname(__FILE__),'..','lib')

require 'bundler'
Bundler.require(:default, :development)

require 'stylish'
require 'commander/import'
require 'pry'

program :name, "Stylish"
program :description, "Stylish Development Server"
program :version, "0.0.1"

command :start do |c|
  c.syntax = 'stylish start [options]'
  c.description = 'manually start the watcher process'

  c.option '--root PATH', 'Specify the root to observer'

  c.action do |args, options|
    Stylish::Developer::Reload.start(root: options.root)
  end
end
